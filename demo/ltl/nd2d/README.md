# nd2d_LMNtal
LMNtal の通常実行で非決定実行の例題を再現する
膜のコピーを伴うため非決定実行と比較して重いが，最も小さいコストを求めたり，
これまでの計算でわかっている暫定のコストと比較した枝狩りなどを行うことができるため，
通常実行で非決定実行を再現することには価値があると考えられる．
一方で，非決定実行の通常実行への単純な変換による恩恵が無い場合も当然存在することが予想できる．
そのため，どのような場合に通常実行での非決定実行の再現が有効かを考察する1つの助けとして，本例題を用意した．


## bridge
真夜中の橋渡し問題
ltl モデル検査では yes no しか判断できない．
そのため，ltl 式では "S=<17"(../bridge0.psym) のように暫定コストを手入力する必要がある．
通常実行では最も小さいコストを求めるなど，ltl では実現しにくい操作が容易に実現できる．
### bridge_d.lmn
単に非決定実行を膜で再現
### bridge_min_d.lmn
最短コストを求める．
すでに計算が終了した経路よりもコストが大きくなった時点で探索を打ち切る．

## ferryman
川渡り問題の1つ
オオカミとヤギとキャベツ
答えの経路を1つ出力する
### ferryman_d.lmn
意味的に同じ遷移を無くすためにヘッドを拡張する必要があるが，反応が終わった膜に対するマッチングの記法で実装自体は簡単．
経路の保存方法をリストにすると ground のコピーが発生するが，state(N,Rulename) のようなアトムを複数用意することで ground のコピーを排除した経路の保存をする方法もある．


## hands
子供に手を繋がせて，最終的に誰とも手を繋がない子供がいないような経路を求める

### hands_d.lmn
uniq がうまく使えないような例は，ハイパーリンクなどに書き換える必要があると思われる．
効率が大きく落ち，可読性も下がるため，単純な変換は良い選択肢とは言えない．

## jug
水差し問題
ltl モデル検査で yes no を判定するのに適した問題．
（400 ml のジャグを作れるかどうか？等）
このような問題は通常実行で実行するのにあまり向かない可能性が高い．

### jug_d.lmn
通常実行で再現．
意味的に同じマッチングを uniq で制御するために，元のプログラムから左辺を変更する必要がある．
（empty@@ と fillup@@）


## nqueen
../4queen.lmn に対して，整数 n を渡すことを許すように変更した．

### nqueen_d.lmn
整数 n に対する nqueen 問題の答えを全て出力する．
ltl 式では，"p=c(5)"(../4queen0.psym) のように任意の整数に対する ltl 式を書いておくことはできない．

## tetoromino
指定したテトロミノで4x4 サイズの盤面を埋められるかどうか．

### tetoromino_d.lmn
本プログラムでは，解があるかどうかだけを検出する．
（他のプログラムのように記述すれば，どのような経路で解に到達可能かを検出することもできる）
メリット：解が速く見つかればすぐ終わる
デメリット：解が無いと（すぐ見つからないと遅い）
このような問題は，非決定実行のように全状態を広げていくのではなく，通常実行ならではのアルゴリズムを考えて解くのが賢明．